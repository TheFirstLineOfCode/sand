CREATE TABLE THING_AUTHORIZATIONS(id VARCHAR(64) PRIMARY KEY, thing_id VARCHAR(32) NOT NULL, authorizer VARCHAR(32), authorized_time TIMESTAMP NOT NULL, expired_time TIMESTAMP NOT NULL, canceled BOOLEAN DEFAULT FALSE NOT NULL);
CREATE TABLE THINGS(id VARCHAR(64) PRIMARY KEY, thing_id VARCHAR(32) NOT NULL, registration_code VARCHAR(32), model VARCHAR(16), software_version VARCHAR(16), registration_time TIMESTAMP NOT NULL);
CREATE TABLE REGISTERED_EDGE_THINGS(id VARCHAR(64) PRIMARY KEY, thing_id VARCHAR(32) NOT NULL, thing_name VARCHAR(32) NOT NULL, credentials VARCHAR(16) NOT NULL, secret_key VARBINARY(24) NOT NULL)
CREATE TABLE THING_EVENT_SUBSCRIPTIONS(id VARCHAR(64) PRIMARY KEY, target VARCHAR(32) NOT NULL, event VARCHAR(128) NOT NULL, subscriber VARCHAR(32) NOT NULL)
CREATE INDEX INDEX_THING_AUTHORIZATIONS_THING_ID ON THING_AUTHORIZATIONS (thing_id);
CREATE INDEX INDEX_THING_AUTHORIZATIONS_AUTHORIZED_TIME ON THING_AUTHORIZATIONS (authorized_time);
CREATE INDEX INDEX_THING_AUTHORIZATIONS_EXPIRED_TIME ON THING_AUTHORIZATIONS (expired_time);
CREATE UNIQUE INDEX INDEX_THINGS_THING_ID ON THINGS (thing_id);
CREATE INDEX INDEX_REGISTERED_EDGE_THINGS_THING_NAME ON REGISTERED_EDGE_THINGS (thing_name);
CREATE INDEX INDEX_THING_EVENT_SUBSCRIPTIONS_TARGET_EVENT ON THING_FOLLOWS (target, event);
